% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/examplesWebR.R
\name{tag-examplesWebR}
\alias{tag-examplesWebR}
\title{Custom \verb{@examplesWebR} tag.}
\usage{
#' @examplesWebR
#' # Your example code that will be available in webR
#'
#' @examplesWebR embed
#' # Your example code with embedded webR iframe
#'
#' @examplesWebR embed version=v0.5.4 height=400
#' # Your example code with embedded webR iframe with height 400 set to version 0.5.4
#'
#' @examplesWebR embed=false autorun mode=editor-plot
#' # Your example code with custom configuration overriding global settings
#'
}
\description{
When roxygen2 processes your documentation, the \verb{@examplesWebR} tag generates
both an example section and webR integration. Specifically, the
example code is split into a regular \verb{@examples} section and a WebR section.
The webR section contains a clickable link or embedding an interactive iframe
that interacts with the webR REPL by automatically encoding the code
for sharing.
}
\section{Implementation}{


When the \verb{@examplesWebR} tag is processed, it creates:
\enumerate{
\item Regular \verb{@examples} section with the code
\item A \code{"WebR"} section containing format-appropriate webR integration link
}

The webR URL format is:

\if{html}{\out{<div class="sourceCode">}}\preformatted{https://webr.r-wasm.org/\{version\}/?mode=\{mode\}&channel=\{channel\}#code=\{encoded_code\}&ju\{a\}
}\if{html}{\out{</div>}}

where the code is JSON-encoded and uncompressed.
}

\section{Generated Structure}{


The generated RD file will have the structure:

\if{html}{\out{<div class="sourceCode">}}\preformatted{\\section\{WebR\}\{
 \ifelse{html}{
   \out{
     <a href="webR_URL">\U0001F310 View in webR REPL</a>
   }
 }{
   \ifelse{latex}{
     \url{webR_URL}
   }{
     Interactive webR content not available for this output format.
   }
 }
\}
\\examples\{
# Your R code here
plot(1:5, 1:5)
\}
}\if{html}{\out{</div>}}

where \code{webR_URL} is the link to the webR REPL with the encoded code.
}

\section{Output Format Support}{


The webR integration adapts to different documentation formats:
\itemize{
\item \strong{HTML}: Interactive buttons/iframes with full webR functionality
\item \strong{LaTeX/PDF}: Plain URL link to webR session
\item \strong{Other formats}: Informational message about limited support
}
}

\section{Parameters}{


The tag supports optional parameters (these override global \code{DESCRIPTION} config):
\itemize{
\item \verb{@examplesWebR}: Default behavior (link in WebR section)
\item \verb{@examplesWebR embed}: Embed iframe instead of link
\itemize{
\item \verb{@examplesWebR embed=false} - Explicitly disable embedding (override global config)
}
\item \verb{@examplesWebR version=v0.5.4}: Specify webR version greater than or equal to 0.5.4 (default: \code{latest})
\item \verb{@examplesWebR height=500}: Set iframe height in pixels (default: \code{400})
\item \verb{@examplesWebR autorun} - Enable autorun on webR session open
\itemize{
\item \verb{@examplesWebR autorun=false} - Explicitly disable autorun (override global config)
}
\item \verb{@examplesWebR mode=editor-plot} - Configure embedded webR interface (editor, plot, terminal, files) (default: \code{"editor-plot-terminal"})
\item \verb{@examplesWebR channel=Automatic} - Set webR communication channel (default: \verb{"Automatic})
}

\strong{Version Requirements}: The version parameter must be either \code{"latest"} or a
version string \code{v0.5.4} or higher. Earlier versions are not supported
as the embedding feature is new.

\strong{Mode Options}: Valid mode components are \code{editor}, \code{plot}, \code{terminal}, and \code{files}.
Combine multiple components with hyphens (e.g., \code{editor-plot-terminal}).
}

\section{Global Configuration}{


You can set global defaults for tags in your package's \code{DESCRIPTION} file:

\if{html}{\out{<div class="sourceCode">}}\preformatted{Config/rocleteer/webr-embed: false
Config/rocleteer/webr-height: 500  
Config/rocleteer/webr-version: v0.5.4
Config/rocleteer/webr-autorun: true
Config/rocleteer/webr-mode: editor-plot
Config/rocleteer/webr-channel: Automatic
}\if{html}{\out{</div>}}
}

\section{Package Configuration}{


To use the \verb{@examplesWebR} tag in your package, add the required dependencies:

In your \code{DESCRIPTION} file:

\if{html}{\out{<div class="sourceCode">}}\preformatted{Suggests:
    rocleteer
Remotes: coatless-rpkg/rocleteer

Roxygen: list(..., packages = c("rocleteer"))
}\if{html}{\out{</div>}}

You will also need to specify a location where we can obtain the webR
compiled package in \code{DESCRIPTION}. This will usually be a GitHub Pages URL
or an R-universe URL. The recommended way is to use the
\code{Config/rocleteer/webr-repo} field in your \code{DESCRIPTION} file:

\if{html}{\out{<div class="sourceCode">}}\preformatted{Config/rocleteer/webr-repo: https://user.github.io/pkgname/
}\if{html}{\out{</div>}}

Alternatively, you can use the \code{URL} field in your \code{DESCRIPTION} file to
specify the repository URL. The tag will attempt to auto-detect the
repository URL from the \code{URL} field if the \code{Config/rocleteer/webr-repo} field
is not set. The tag will look for:

\if{html}{\out{<div class="sourceCode">}}\preformatted{URL: https://user.github.io/pkgname/, https://github.com/user/pkgname
}\if{html}{\out{</div>}}

or

\if{html}{\out{<div class="sourceCode">}}\preformatted{URL: https://username.r-universe.dev
}\if{html}{\out{</div>}}

If we cannot find a suitable repository URL, the tag will throw an error
during processing.

The generated webR examples will use this URL to install the package
and load it in the webR REPL. The installation code will look like this:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Install and load webR Package
install.packages("pkgname", repos = "https://user.github.io/pkgname/")
library("pkgname")

# Example code:
your_function()
}\if{html}{\out{</div>}}
}

\examples{
# A function with webR integration
# 
#' @title Plot Simple Data
#' @description 
#' This function creates a simple plot
#' 
#' @param x Numeric vector for x-axis
#' @param y Numeric vector for y-axis
#'
#' @return 
#' A plot object
#' 
#' @examplesWebR
#' # Create some data
#' x <- 1:10
#' y <- x^2
#' 
#' # Create a plot
#' plot(x, y, type = "b", main = "Simple Quadratic")
#' 
#' # Add a line
#' lines(x, x^1.5, col = "red")
}
